= Anypoint Partner Manager Concepts

:keywords: Anypoint b2b Anypoint Partner Manager concepts

This page explains Anypoint Partner Manager concepts. For more information, see link:/anypoint-b2b/anypoint-partner-manager[Anypoint Partner Manager].

== B2B Routing Framework

<content to come from Kent>

== Hierarchical Resolution Logic

<content to come from Claude>

== Tracking

This section suggests use cases in which you would want to use Anypoint Partner Manager (APM) to track B2B exchanges. This page assumes a basic knowledge of APM; see  link:/anypoint-b2b/anypoint-partner-manager[Anypoint Partner Manager] for more information. For specific information about how to implement APM, see link:/anypoint-b2b/anypoint-partner-manager-users-guide[Anypoint Partner Manager User's Guide].

=== Scenarios

==== Replaying an incomplete transaction

On the B2B Transactions Page, the Transactions View includes a table in which each row corresponds to a transaction.  The first column shows transaction completion status, as follows:

Green checkmark:: Indicates a complete transaction
Red exclamation point (*!*):: Indicates a transaction has one or more errors

To fix an error, you can use APM to replay the transaction.

NOTE: Make sure that you have access to the information you need to fix an error before you replay it.

For more information about the Transactions View, see "Transactions View" in link:/anypoint-b2b/monitor-b2b-transactions[Monitor B2B Transactions].

===== To replay a transaction

. Click on the row corresponding to the transaction you want to replay.
+
A blue *Replay* button appears in the Top Bar.

. __<<Don't we want to point users to information about how to fix errors?>>_
. Once the problem has been fixed you can click on the *replay* button.
+
When this button is clicked it will disable itself and will let you know that the transaction is being replayed.
. Once the transaction has been replayed a blue replay circle will appear in the status of the transaction that you replayed.
. In order to see if the replayed transaction succeeded or failed, click on the replayed transaction
. In the detail panel there will be a link to *View Replays* at the top.
. This will automatically filter the grid to see only transactions that have been replayed off of that original transaction.
. If the replayed transaction failed again, repeat this process until the replay goes through.
. You will always be able to get a full list of all of the transactions that are replayed from the same original by clicking the link in the detail panel of any of the transactions with the blue replay circle in their status.
. Once the replay has succeeded, a green check appears next to the replayed transaction.
. If for some reason you need to continue replaying the transaction you can do so with the same replay button as before, but you will be alerted with a warning before you can continue. This is to prevent unnecessary replays from happening.

==== Common Errors

If there are an abnormal amount of similar errors, you an review them simultaneously.

* The *Overview* at the top of the B2B Transactions Page provides a summary of what has happened recently including how many errors have been detected that day.
* You can see what kind of errors have happened by hovering over different slices of the pie.
* If you want to see more information, you click one of the slices to automatically sort the errors by this type.
** This will take you to the Error View and automatically filter the results.
** This gives you access to all the same errors so you can look for a pattern among these in order to find a solution.
* This is useful when transactions are failing. but you can't ascertain the solution by just looking at the transactions themselves.
* Being able to view the whole suite of errors enables you to see patterns in the data that would otherwise be hard to find.
* From here, the navigation buttons at top right enable you to view the transactions with which these errors are associated.

==== Transport Problem Identification

* If you notice that you are getting a large number of errors from a single type of transport you can sort your transmissions using a filter with the Transmissions View.
** This filter will allow you to look at all the same transport types and see the differences between those that failed and those that succeeded.
** You can find additional relevant information in the Detail Pane to the right.
* From here you can see what happened with individual transactions that these transmissions were involved in through a navigation button in the upper corner.
* This will allow you to follow transactions through their entire cycle, and if necessary replay them through their transactions on that tab.

Navigation is important in looking for patterns and correcting errors. That is why some of the more important filters will also follow you from tab to tab. This will allow you to look for commonalities in all of the types of data.

==== When a Partner Needs Records

A common scenario that you might run into is when a partner requires different information relating to a Transaction or a Transmission or a document. Here we will run through some of those scenarios. From these you should be able to figure out any other situation that might arise.

===== Finding Transmissions

* In the B2B Transaction Page of the APM, you can filter through the different tabs at the top to find Transactions, Transmissions, or Documents.
* If you select *Transmissions*, a view appears that shows only transmissions you received and sent.
* From there APM provides a filter that takes an ID that the partner gave you relating to their query.
* Using the Detail Pane on the right, you can find what a partner is looking for and provide the relevant information.
* If the Partner is trying to find a specific ID then you can also get that to them with the copy button that we provide to the right of all long strings.
* Sorting and filtering through these grids is easy and can make your job really simple. Mess around with the table headers and the filters as you figure things out to find what you need.
** If you ever get lost you can use the *Clear Filters* button to get back to the full view.
* If you need to find out more information about a transmission or just where it exists in the larger scope you can click on the *Transaction* button in the upper right corner to view the transmission in context.

===== Finding Documents

* On the B2B Transaction Page of the APM you can filter through the different tabs at the top to find Transactions, Transmissions, or Documents.
* If you select *Documents*, a tab that shows only documents appears.
* From there we provide some *filters*. Some of which take an ID that the partner gave you relating to their query.
* Use the Detail pane on the right to find what a partner is looking for and provide them with the relevant information.
* If the Partner is trying to find a specific ID then you can also get that to them with the copy button that appears to the right of all long strings.
* Sorting and filtering through these grids is easy and can make your job really simple. Mess around with the table headers and the filters as you figure things out to find what you need.
** If you ever get lost you can use the *Clear Filters* button to get back to the full view.
* If you need to find out more information about a document or just where it exists in the larger scope you can click on the *Transaction* button in the upper right corner to view the transmission in context.

include::more-information[More information]
